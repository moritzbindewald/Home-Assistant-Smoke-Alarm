blueprint:
  name: "Feueralarm Vollversion üî•"
  description: >
    "Voll ausgestatteter Feueralarm-Blueprint f√ºr Home Assistant. Enth√§lt Alarm-Modi, Eskalation, Pr√§senzlogik,
    Push-Benachrichtigungen, Licht-/TTS-Steuerung, Rauchmelder, Notfallmodus
    und Testmodus."
  domain: automation
  input:

    ##########################################
    # 1Ô∏è‚É£ Rauchmelder üåê
    ##########################################
    smoke_detectors:
      name: "Rauchmelder üåê"
      description: "Rauchmelder zur Synchronisation"
      selector:
        entity:
          domain: binary_sensor
          multiple: true

    smoke_detector_mode:
      name: "Buzzer-Modus Rauchmelder"
      description: "buzzer_select, buzzer_alarm oder buzzer_mute"
      default: "buzzer_alarm"
      selector:
        select:
          options:
            - "buzzer_select"
            - "buzzer_alarm"
            - "buzzer_mute"

    ##########################################
    # 2Ô∏è‚É£ Pr√§senz-Erkennung üë•
    ##########################################
    persons:
      name: "Personen im Haushalt"
      description: "Personen-Entit√§ten f√ºr Anwesenheit"
      selector:
        entity:
          domain: person
          multiple: true

    presence_sensors:
      name: "Pr√§senzsensoren üë•"
      description: "Bewegungsmelder, T√ºren, Fenster etc."
      selector:
        entity:
          domain: binary_sensor
          multiple: true

    presence_no_one_home_action:
      name: "Sonderfall: Niemand zu Hause, Aktivit√§t erkannt"
      description: "Aktion, wenn niemand zu Hause ist, aber Bewegung erkannt wird"
      default: "nothing"
      selector:
        select:
          options:
            - "alarm"
            - "push_only"
            - "nothing"

    ##########################################
    # 3Ô∏è‚É£ Push-Gruppen üë™üì≤
    ##########################################
    residents_devices:
      name: "Bewohner Ger√§te üë™"
      description: "Ger√§te/Entit√§ten, die App-Push bei Alarmen erhalten"
      selector:
        target:
          entity:
            multiple: true

    emergency_contacts_devices:
      name: "Notfallkontakte Ger√§te üë™"
      description: "Ger√§te/Entit√§ten, die Push nur bei Notfall best√§tigt erhalten"
      selector:
        target:
          entity:
            multiple: true

    ##########################################
    # 4Ô∏è‚É£ Licht / Szenen üí°
    ##########################################
    lights_scenes:
      name: "Licht / Szenen üí°"
      description: "Alarm-Lichter, Fluchtweg, Notfall-Beleuchtung"
      selector:
        entity:
          domain: light
          multiple: true

    lights_restore_during_alarm:
      name: "Wiederherstellungslogik aktiv"
      description: "Lichter/Szenen w√§hrend aktiven Alarmen automatisch wieder einschalten"
      default: true
      selector:
        boolean: {}

    ##########################################
    # 5Ô∏è‚É£ TTS üó£Ô∏è
    ##########################################
    tts_speakers:
      name: "TTS-Speaker üó£Ô∏è"
      description: "Smarte Lautsprecher f√ºr Alarmmeldungen"
      selector:
        entity:
          domain: media_player
          multiple: true

    ##########################################
    # 6Ô∏è‚É£ Eskalation / Alarm-Modi / Notfall
    ##########################################
    alarm_mode:
      name: "Alarmmodus"
      description: "Auswahl des aktuellen Alarmmodus"
      selector:
        select:
          options:
            - "Kein Alarm"
            - "Alarm aktiv"
            - "Notfall best√§tigt"
            - "Fehlalarm"

    alarm_mode_entities:
      name: "Entit√§ten pro Alarmmodus"
      description: "Welche Ger√§te/Rollos/Steckdosen/Kameras bei diesem Modus gesteuert werden"
      selector:
        target:
          entity:
            multiple: true

    escalation_time:
      name: "Zeit bis Eskalation ‚ö†Ô∏è"
      description: "Sekunden bis Eskalation"
      default: 60
      selector:
        number:
          min: 10
          max: 600
          unit_of_measurement: "Sekunden"

    emergency_mode_boolean:
      name: "Notfallmodus üèÉ‚Äç‚ôÇÔ∏è"
      description: "Input Boolean zum Ausl√∂sen des Notfalls"
      selector:
        entity:
          domain: input_boolean

    ##########################################
    # 7Ô∏è‚É£ Testmodus üß™
    ##########################################
    testmode_boolean:
      name: "Testmodus aktivieren üß™"
      description: "Input Boolean zum Aktivieren des Testmodus"
      selector:
        entity:
          domain: input_boolean

    testmode_actions:
      name: "Testmodus Aktionen"
      description: "Welche Aktionen im Testmodus ausgef√ºhrt werden"
      selector:
        select:
          options:
            - "Volles Programm"
            - "Sirene"
            - "Lichter/Szenen"
            - "TTS"
            - "Push"
            - "Entit√§ten"
            - "Rauchmelder-Buzzer-Modus"

    testmode_duration:
      name: "Testmodus Dauer"
      description: "Dauer des Testmodus in Sekunden"
      default: 30
      selector:
        number:
          min: 5
          max: 600
          unit_of_measurement: "Sekunden"